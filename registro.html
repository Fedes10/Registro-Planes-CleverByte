<!-- 
â•­â”â”â”â•®â•±â•±â•±â•±â•­â•®â•±â•±â•±â•±â•±â•±â•­â•®â•­â”â”â”â•®
â”ƒâ•­â”â”â•¯â•±â•±â•±â•±â”ƒâ”ƒâ•±â•±â•±â•±â•±â•­â•¯â”ƒâ”ƒâ•­â”â•®â”ƒ
â”ƒâ•°â”â”â”³â”â”â”³â”â•¯â”£â”â”â”³â”â”â•‹â•®â”ƒâ”ƒâ”ƒâ”ƒâ”ƒâ”ƒ
â”ƒâ•­â”â”â”«â”ƒâ”â”«â•­â•®â”ƒâ”ƒâ”â”«â”â”â”«â”ƒâ”ƒâ”ƒâ”ƒâ”ƒâ”ƒâ”ƒ
â”ƒâ”ƒâ•±â•±â”ƒâ”ƒâ”â”«â•°â•¯â”ƒâ”ƒâ”â•‹â”â”â”£â•¯â•°â”«â•°â”â•¯â”ƒ
â•°â•¯â•±â•±â•°â”â”â”»â”â”â”»â”â”â”»â”â”â”»â”â”â”»â”â”â”â•¯
â•­â”â”â”â•®â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•­â•®â•±â•­â•®
â”ƒâ•­â”â•®â”ƒâ•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â•±â”ƒâ”ƒâ•­â•¯â•°â•®
â”ƒâ”ƒâ•±â•°â•‹â”â”â”³â”â”â”³â•®â•±â•­â”³â”â”³â”³â”â”â”«â•°â”»â•®â•­â•¯
â”ƒâ”ƒâ•±â•­â”«â•­â•®â”ƒâ•­â•®â”ƒâ”ƒâ•±â”ƒâ”ƒâ•­â•‹â”«â•­â•®â”ƒâ•­â•®â”ƒâ”ƒ
â”ƒâ•°â”â•¯â”ƒâ•°â•¯â”ƒâ•°â•¯â”ƒâ•°â”â•¯â”ƒâ”ƒâ”ƒâ”ƒâ•°â•¯â”ƒâ”ƒâ”ƒâ”ƒâ•°â•®
â•°â”â”â”â”»â”â”â”«â•­â”â”»â”â•®â•­â”»â•¯â•°â”»â”â•®â”£â•¯â•°â”»â”â•¯
â•±â•±â•±â•±â•±â•±â•±â”ƒâ”ƒâ•±â•­â”â•¯â”ƒâ•±â•±â•±â•­â”â•¯â”ƒ
â•±â•±â•±â•±â•±â•±â•±â•°â•¯â•±â•°â”â”â•¯â•±â•±â•±â•°â”â”â•¯


Â© 2026 Federico Lora 
-->
<!DOCTYPE html>
<html lang="es">
    <head>
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-WWKQS8XQ');</script>
        <!-- End Google Tag Manager -->

        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="logo.png" type="image/png">

        <!-- Primary Meta Tags -->
        <title>
            CleverFactu - Registro de prueba gratuita
        </title>
        <meta
            name="title"
            content="CleverFactu - Registro de prueba gratuita"
        />
        <meta
            name="description"
            content="Completa tu registro de CleverFactu y activa tu prueba gratuita de 15 dÃ­as."
        />
        <meta
            name="keywords"
            content="software facturaciÃ³n, verifactu, facturaciÃ³n electrÃ³nica, autÃ³nomos, pymes"
        />
        <meta name="author" content="CleverByte Consulting" />
        <meta name="robots" content="index, follow" />
        <meta name="language" content="Spanish" />
        <meta name="revisit-after" content="7 days" />

        <!-- Geo Tags -->
        <meta name="geo.region" content="ES" />
        <meta name="geo.placename" content="EspaÃ±a" />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://cleverfactu.com/" />
        <meta
            property="og:title"
            content="CleverFactu - Registro"
        />
        <meta
            property="og:description"
            content="Completa tu registro y activa tu prueba gratuita de 15 dÃ­as."
        />
        <meta
            property="og:image"
            content="https://app.cleverfactu.com/build/assets/logoCleverFactu-CEEdlvbp.png"
        />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="630" />
        <meta property="og:site_name" content="CleverFactu" />
        <meta property="og:locale" content="es_ES" />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:url" content="https://cleverfactu.com/" />
        <meta
            property="twitter:title"
            content="CleverFactu - Registro"
        />
        <meta
            property="twitter:description"
            content="Completa tu registro y activa tu prueba gratuita de 15 dÃ­as."
        />
        <meta
            property="twitter:image"
            content="https://app.cleverfactu.com/build/assets/logoCleverFactu-CEEdlvbp.png"
        />

        <!-- Canonical URL -->
        <link rel="canonical" href="https://cleverfactu.com/" />

        <!-- Favicon -->
        <link
            rel="icon"
            type="image/x-icon"
            href="logo.PNG"
        />
        <link
            rel="apple-touch-icon"
            href="https://app.cleverfactu.com/favicon.ico"
        />

        <!-- Preconnect for Performance -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />

        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            "primary-dark": "#081838",
                            "accent-blue": "#0096C6",
                            "accent-green": "#2ED285",
                            "success-green": "#81EB52",
                            "bg-light": "#EFF1F4",
                            "bg-secondary": "#DCEFF4",
                            "text-gray": "#6B7280",
                            "warning-yellow": "#F1C40F",
                        },
                        fontFamily: {
                            sans: ["Inter", "system-ui", "sans-serif"],
                        },
                    },
                },
            };
        </script>
        <link rel="stylesheet" href="estilos.css" />
    </head>
    <body class="font-sans text-primary-dark overflow-x-hidden">
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WWKQS8XQ"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->

        <!-- Navbar -->
        <nav class="fixed top-0 w-full bg-white shadow-md z-50">
            <div
                class="max-w-7xl mx-auto px-8 py-4 flex justify-between items-center"
            >
                <a
                    href="index.html"
                    class="flex items-center gap-3 text-primary-dark font-bold text-2xl transition-opacity hover:opacity-80"
                >
                    <img
                        src="logo.png"
                        alt="CleverFactu"
                        class="h-10 w-auto"
                    />
                    <span class="hidden sm:inline">CleverFactu</span>
                </a>
                <ul class="hidden md:flex gap-8 items-center list-none" id="navMenu">
                    <li>
                        <a
                            href="index.html#caracteristicas"
                            class="text-primary-dark font-medium transition-colors hover:text-accent-green"
                            >CaracterÃ­sticas</a
                        >
                    </li>
                    <li>
                        <a
                            href="index.html#precios"
                            class="text-primary-dark font-medium transition-colors hover:text-accent-green"
                            >Precios</a
                        >
                    </li>
                    <li>
                        <a
                            href="index.html#gestorias"
                            class="text-primary-dark font-medium transition-colors hover:text-accent-green"
                            >Para AsesorÃ­as</a
                        >
                    </li>
                    <li>
                        <a
                            href="https://app.cleverfactu.com/"
                            target="_blank"
                            class="text-primary-dark font-medium transition-colors hover:text-accent-green"
                            >Iniciar SesiÃ³n</a
                        >
                    </li>
                    <li>
                        <a
                            href="index.html#precios"
                            class="gradient-cta text-white px-6 py-3 rounded-lg font-semibold transition-all hover:-translate-y-0.5 hover:shadow-xl inline-block"
                            >Prueba gratis 15 dÃ­as</a
                        >
                    </li>
                </ul>
                <button class="block md:hidden" id="hamburger">
                    <span
                        class="block w-6 h-0.5 bg-primary-dark my-1 transition-all"
                    ></span>
                    <span
                        class="block w-6 h-0.5 bg-primary-dark my-1 transition-all"
                    ></span>
                    <span
                        class="block w-6 h-0.5 bg-primary-dark my-1 transition-all"
                    ></span>
                </button>
            </div>
            <!-- Mobile Menu -->
            <div
                class="hidden md:hidden flex-col bg-white px-8 py-6 shadow-lg"
                id="mobileMenu"
            >
                <a
                    href="index.html#caracteristicas"
                    class="block py-2 text-primary-dark font-medium transition-colors hover:text-accent-green"
                    >CaracterÃ­sticas</a
                >
                <a
                    href="index.html#precios"
                    class="block py-2 text-primary-dark font-medium transition-colors hover:text-accent-green"
                    >Precios</a
                >
                <a
                    href="index.html#gestorias"
                    class="block py-2 text-primary-dark font-medium transition-colors hover:text-accent-green"
                    >Para AsesorÃ­as</a
                >
                <a
                    href="https://app.cleverfactu.com/"
                    target="_blank"
                    class="block py-2 text-primary-dark font-medium transition-colors hover:text-accent-green"
                    >Iniciar SesiÃ³n</a
                >
                <a
                    href="index.html#precios"
                    class="gradient-cta text-white px-6 py-3 rounded-lg font-semibold text-center"
                    >Prueba gratis 15 dÃ­as</a
                >
            </div>
        </nav>

        <main class="wizard-wrapper">
            <div class="wizard-card">
                <div class="wizard-header">
                    <h1 class="wizard-title">Completa tu registro</h1>
                    <p class="wizard-subtitle">
                        Finaliza tu alta en CleverFactu en solo unos pasos.
                    </p>
                </div>

                <div class="wizard-progress">
                    <div class="wizard-step active" data-step="0">
                        1. Empresa
                    </div>
                    <div class="wizard-step" data-step="1">
                        2. Contacto
                    </div>
                    <div class="wizard-step" data-step="2">
                        3. ContraseÃ±a
                    </div>
                </div>

                <form id="wizardForm">
                    <div class="wizard-content">
                        <section class="wizard-panel active" data-panel="0">
                            <div class="wizard-grid">
                                <div class="wizard-field plan-field">
                                    <label for="planSeleccionado">Plan seleccionado</label>
                                    <select
                                        id="planSeleccionado"
                                        name="planSeleccionado"
                                        class="wizard-plan-select"
                                    >
                                        <option value="AutÃ³nomos">AutÃ³nomos</option>
                                        <option value="Pymes">Pymes</option>
                                        <option value="Empresas">Empresas</option>
                                    </select>
                                    <div class="wizard-billing-toggle" role="group" aria-label="Tipo de facturaciÃ³n">
                                        <button type="button" class="wizard-billing-btn active" data-billing="annual">
                                            Anual
                                        </button>
                                        <button type="button" class="wizard-billing-btn" data-billing="monthly">
                                            Mensual
                                        </button>
                                    </div>
                                    <div class="wizard-plan-card" id="planInfo"></div>
                                    <div class="wizard-trial-note" id="trialNote">
                                        * Tu prueba gratuita finaliza el --/--/----
                                    </div>
                                </div>
                                <div class="wizard-field name-field">
                                    <label for="empresaNombre">Nombre de la Empresa *</label>
                                    <input
                                        type="text"
                                        id="empresaNombre"
                                        name="empresaNombre"
                                        placeholder="Ej: CleverFactu SL"
                                        required
                                    />
                                </div>
                                <div class="wizard-field cif-field">
                                    <label for="empresaCif">CIF/NIF *</label>
                                    <input
                                        type="text"
                                        id="empresaCif"
                                        name="empresaCif"
                                        placeholder="Ej: B12345678 o 12345678Z"
                                        required
                                    />
                                    <span class="wizard-note">Formato vÃ¡lido: letra + 8 nÃºmeros (CIF) o 8 nÃºmeros + letra (NIF).</span>
                                </div>
                                <div class="wizard-field address-field">
                                    <label for="empresaDireccion">DirecciÃ³n Completa *</label>
                                    <input
                                        type="text"
                                        id="empresaDireccion"
                                        name="empresaDireccion"
                                        placeholder="Calle, nÃºmero, piso, cÃ³digo postal"
                                        required
                                    />
                                </div>
                            </div>
                        </section>

                        <section class="wizard-panel" data-panel="1">
                            <div class="wizard-grid">
                                <div class="wizard-field">
                                    <label for="contactoNombre">Nombre y apellidos *</label>
                                    <input
                                        type="text"
                                        id="contactoNombre"
                                        name="contactoNombre"
                                        placeholder="Ej: Joe PÃ©rez"
                                        required
                                    />
                                </div>
                                <div class="wizard-field">
                                    <label for="contactoEmail">Email *</label>
                                    <input
                                        type="email"
                                        id="contactoEmail"
                                        name="contactoEmail"
                                        placeholder="tu@empresa.com"
                                        required
                                    />
                                    <span class="wizard-note">
                                        Este email servirÃ¡ para crear la cuenta y recuperar la contraseÃ±a.
                                    </span>
                                </div>
                                <div class="wizard-field">
                                    <label for="empresaNacionalidad">Nacionalidad</label>
                                    <select id="empresaNacionalidad" name="empresaNacionalidad" class="wizard-plan-select">
                                        <option value="ES">ðŸ‡ªðŸ‡¸ EspaÃ±a</option>
                                        <option value="PT">ðŸ‡µðŸ‡¹ Portugal</option>
                                        <option value="FR">ðŸ‡«ðŸ‡· Francia</option>
                                        <option value="IT">ðŸ‡®ðŸ‡¹ Italia</option>
                                        <option value="DE">ðŸ‡©ðŸ‡ª Alemania</option>
                                        <option value="GB">ðŸ‡¬ðŸ‡§ Reino Unido</option>
                                        <option value="US">ðŸ‡ºðŸ‡¸ Estados Unidos</option>
                                    </select>
                                    <span class="wizard-note">Busca y selecciona tu paÃ­s.</span>
                                </div>
                                <div class="wizard-field">
                                    <label for="empresaCiudad">Ciudad</label>
                                    <select id="empresaCiudad" name="empresaCiudad" class="wizard-plan-select">
                                        <option value="">Selecciona una ciudad</option>
                                        <option value="Madrid">Madrid</option>
                                        <option value="Barcelona">Barcelona</option>
                                        <option value="Valencia">Valencia</option>
                                        <option value="Sevilla">Sevilla</option>
                                        <option value="Bilbao">Bilbao</option>
                                        <option value="MÃ¡laga">MÃ¡laga</option>
                                    </select>
                                </div>
                                <div class="wizard-field">
                                    <label for="contactoTelefono">TelÃ©fono</label>
                                    <input
                                        type="tel"
                                        id="contactoTelefono"
                                        name="contactoTelefono"
                                        placeholder="Ej: +34 600 123 456"
                                    />
                                </div>
                            </div>
                        </section>

                        <section class="wizard-panel" data-panel="2">
                            <div class="wizard-grid">
                                <div class="wizard-field">
                                    <label for="password">ContraseÃ±a *</label>
                                    <div class="wizard-password-field">
                                        <input
                                            type="password"
                                            id="password"
                                            name="password"
                                            placeholder="MÃ­nimo 8 caracteres"
                                            required
                                        />
                                        <button type="button" class="wizard-eye-toggle" id="togglePasswords" aria-label="Mostrar contraseÃ±as">
                                            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                                                <path d="M1.5 12s4.5-7 10.5-7 10.5 7 10.5 7-4.5 7-10.5 7S1.5 12 1.5 12z" fill="none" stroke="currentColor" stroke-width="1.8"/>
                                                <circle cx="12" cy="12" r="3.5" fill="none" stroke="currentColor" stroke-width="1.8"/>
                                            </svg>
                                        </button>
                                    </div>
                                    <div class="wizard-strength">
                                        <div class="wizard-strength-bar" id="strengthBar"></div>
                                    </div>
                                    <span class="wizard-note" id="strengthText">Seguridad: baja</span>
                                </div>
                                <div class="wizard-field">
                                    <label for="confirmPassword">Confirmar ContraseÃ±a *</label>
                                    <div class="wizard-password-field">
                                        <input
                                            type="password"
                                            id="confirmPassword"
                                            name="confirmPassword"
                                            placeholder="Repite tu contraseÃ±a"
                                            required
                                        />
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>

                    <div class="wizard-actions">
                        <button type="button" class="wizard-btn secondary" id="prevStep">
                            Anterior
                        </button>
                        <button type="button" class="wizard-btn primary" id="nextStep">
                            Siguiente
                        </button>
                    </div>
                </form>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-primary-dark text-white py-12 px-8">
            <div class="max-w-7xl mx-auto">
                <div class="text-center space-y-4">
                    <p class="text-base opacity-90">
                        &copy; <span id="currentYear"></span> CleverFactu - Desarrollado por
                        <a
                            href="https://cleverbyte.es/"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="text-accent-green font-semibold hover:text-success-green transition-colors underline decoration-dotted"
                        >
                            CleverByte Consulting
                        </a>
                    </p>
                    <p class="text-sm opacity-70">
                        Software de facturaciÃ³n inteligente | Cumplimiento VeriFactu
                        garantizado
                    </p>
                </div>
            </div>
        </footer>

        <script src="scripts.js"></script>
        <script>
            const steps = Array.from(document.querySelectorAll(".wizard-step"));
            const panels = Array.from(document.querySelectorAll(".wizard-panel"));
            const nextButton = document.getElementById("nextStep");
            const prevButton = document.getElementById("prevStep");
            const form = document.getElementById("wizardForm");
            const planField = document.getElementById("planSeleccionado");
            const emailField = document.getElementById("contactoEmail");
            const empresaNombreField = document.getElementById("empresaNombre");
            const planInfo = document.getElementById("planInfo");

            const params = new URLSearchParams(window.location.search);
            const nombre = params.get("nombre");
            const email = params.get("email");
            const plan = params.get("plan");

            const planValue = plan || "Plan seleccionado";
            if (planField) planField.value = planValue;
            if (emailField && email) emailField.value = email;
            if (empresaNombreField && nombre) empresaNombreField.value = nombre;

            const planDetails = {
                AutÃ³nomos: {
                    monthly: "11,99â‚¬/mes",
                    annual: "9,99â‚¬/mes",
                    noteAnnual: "Facturado anualmente (119,88â‚¬/aÃ±o)",
                    noteMonthly: "Facturado mensualmente",
                    details: "Hasta 50 facturas/mes Â· 1 usuario Â· 5GB",
                },
                Pymes: {
                    monthly: "23,99â‚¬/mes",
                    annual: "19,99â‚¬/mes",
                    noteAnnual: "Facturado anualmente (239,88â‚¬/aÃ±o)",
                    noteMonthly: "Facturado mensualmente",
                    details: "Facturas ilimitadas Â· Hasta 5 usuarios Â· 50GB",
                },
                Empresas: {
                    monthly: "47,99â‚¬/mes",
                    annual: "39,99â‚¬/mes",
                    noteAnnual: "Facturado anualmente (479,88â‚¬/aÃ±o)",
                    noteMonthly: "Facturado mensualmente",
                    details: "Usuarios ilimitados Â· Soporte 24/7 Â· 500GB",
                },
            };

            const billingButtons = Array.from(
                document.querySelectorAll(".wizard-billing-btn")
            );
            let billingMode = "annual";

            const renderPlanInfo = (value) => {
                if (!planInfo) return;
                const planData = planDetails[value];
                if (!planData) {
                    planInfo.innerHTML = `
                        <div class="wizard-plan-header">
                            <div class="wizard-plan-title">Plan ${value}</div>
                        </div>
                        <div class="wizard-plan-note">Plan personalizado</div>
                    `;
                    return;
                }
                const details = planData.details.split(" Â· ");
                const price = billingMode === "annual" ? planData.annual : planData.monthly;
                const note = billingMode === "annual" ? planData.noteAnnual : planData.noteMonthly;
                planInfo.innerHTML = `
                    <div class="wizard-plan-header">
                        <div class="wizard-plan-title">Plan ${value}</div>
                        <div class="wizard-plan-price">${price}</div>
                    </div>
                    <div class="wizard-plan-note">${note}</div>
                    <ul class="wizard-plan-list">
                        ${details.map((item) => `<li>${item}</li>`).join("")}
                    </ul>
                `;
            };

            if (planField) {
                renderPlanInfo(planField.value);
                planField.addEventListener("change", (event) => {
                    renderPlanInfo(event.target.value);
                });
            } else {
                renderPlanInfo(planValue);
            }

            billingButtons.forEach((button) => {
                button.addEventListener("click", () => {
                    billingMode = button.dataset.billing;
                    billingButtons.forEach((btn) =>
                        btn.classList.toggle("active", btn === button)
                    );
                    if (planField) renderPlanInfo(planField.value);
                });
            });

            const trialNote = document.getElementById("trialNote");
            if (trialNote) {
                const today = new Date();
                const endDate = new Date(today.getTime() + 15 * 24 * 60 * 60 * 1000);
                const formatted = endDate.toLocaleDateString("es-ES");
                trialNote.textContent = `* Tu prueba gratuita finaliza el ${formatted}`;
            }

            const passwordInput = document.getElementById("password");
            const strengthBar = document.getElementById("strengthBar");
            const strengthText = document.getElementById("strengthText");

            const updateStrength = (value) => {
                if (!strengthBar || !strengthText) return;
                let score = 0;
                if (value.length >= 8) score += 1;
                if (/[A-Z]/.test(value)) score += 1;
                if (/[0-9]/.test(value)) score += 1;
                if (/[^A-Za-z0-9]/.test(value)) score += 1;

                const levels = [
                    { width: "25%", color: "#ef4444", text: "Seguridad: baja" },
                    { width: "50%", color: "#f59e0b", text: "Seguridad: media" },
                    { width: "75%", color: "#facc15", text: "Seguridad: buena" },
                    { width: "100%", color: "#22c55e", text: "Seguridad: alta" },
                ];
                const level = levels[Math.max(score - 1, 0)];
                strengthBar.style.width = level.width;
                strengthBar.style.background = level.color;
                strengthText.textContent = level.text;
            };

            if (passwordInput) {
                passwordInput.addEventListener("input", (event) => {
                    updateStrength(event.target.value);
                });
                updateStrength("");
            }

            const togglePasswordsBtn = document.getElementById("togglePasswords");
            if (togglePasswordsBtn) {
                togglePasswordsBtn.addEventListener("click", () => {
                    const password = document.getElementById("password");
                    const confirmPassword = document.getElementById("confirmPassword");
                    if (!password || !confirmPassword) return;
                    const show = password.type === "password";
                    password.type = show ? "text" : "password";
                    confirmPassword.type = show ? "text" : "password";
                    togglePasswordsBtn.classList.toggle("active", show);
                    togglePasswordsBtn.setAttribute(
                        "aria-label",
                        show ? "Ocultar contraseÃ±as" : "Mostrar contraseÃ±as"
                    );
                });
            }

            let currentStep = 0;

            const updateWizard = () => {
                panels.forEach((panel, index) => {
                    panel.classList.toggle("active", index === currentStep);
                });

                steps.forEach((step, index) => {
                    step.classList.toggle("active", index === currentStep);
                    step.classList.toggle("completed", index < currentStep);
                });

                prevButton.disabled = currentStep === 0;
                nextButton.textContent =
                    currentStep === panels.length - 1 ? "Finalizar" : "Siguiente";
            };

            const validateStep = () => {
                const activePanel = panels[currentStep];
                const requiredFields = activePanel.querySelectorAll("[required]");
                let valid = true;

                requiredFields.forEach((field) => {
                    if (!field.value.trim()) {
                        field.focus();
                        valid = false;
                        return;
                    }
                });

                if (currentStep === 2) {
                    const password = document.getElementById("password");
                    const confirmPassword = document.getElementById("confirmPassword");
                    if (password.value && confirmPassword.value && password.value !== confirmPassword.value) {
                        confirmPassword.focus();
                        valid = false;
                    }
                }

                return valid;
            };

            nextButton.addEventListener("click", () => {
                if (!validateStep()) return;
                if (currentStep < panels.length - 1) {
                    currentStep += 1;
                    updateWizard();
                } else {
                    form.submit();
                }
            });

            prevButton.addEventListener("click", () => {
                if (currentStep > 0) {
                    currentStep -= 1;
                    updateWizard();
                }
            });

            updateWizard();

            const yearEl = document.getElementById("currentYear");
            if (yearEl) yearEl.textContent = new Date().getFullYear();
        </script>
    </body>
</html>
